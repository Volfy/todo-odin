(()=>{"use strict";const e=(()=>{const e=(()=>{let e=document.querySelector("table tbody");return{refreshAll:t=>{(()=>{const t=document.createElement("tbody");e.parentNode.replaceChild(t,e),e=t})(),t.forEach((t=>{(({id:t,title:o,dueDate:c,projectName:r})=>{((t,o,c,r)=>{const n=e.insertRow();n.dataset.num=t;const d=n.insertCell(0),l=document.createElement("input");l.type="checkbox",l.addEventListener("change",(()=>{(e=>{document.querySelector(`tr[data-num='${e}']`).classList.toggle("done")})(t)})),d.append(l),n.insertCell(1).textContent=o,n.insertCell(2).textContent=c,n.insertCell(3).textContent=r;const a=n.insertCell(4),s=document.createElement("button");s.dataset.num=t,s.classList.add("edit"),s.textContent="Edit",a.append(s);const u=n.insertCell(5),p=document.createElement("button");p.dataset.num=t,p.classList.add("rmv"),p.textContent="Remove",u.append(p)})(t,o,c,r)})(t)}))}}})(),t=e=>{document.querySelector("#view-all .project-no").textContent=e},o=(()=>{const e=document.querySelector(".projects-list");return{add:(t,o,r=0)=>{const n=document.createElement("li"),d=document.createElement("button"),l=document.createElement("div");n.id=`project-${t}`,c.addProject(t,o),l.classList.add("project-no"),d.classList.add("project"),n.classList.add("project"),l.textContent=r,d.textContent=o,d.append(l),n.append(d),e.append(n)},remove:e=>{document.querySelector(`#project-${e}`).remove(),c.removeProject(e)},update:(e,t)=>{document.querySelector(`#project-${e} .project-no`).textContent=t},updateViewAll:t}})(),c=(()=>{const e=document.querySelector(".form-section"),t=document.querySelector("#td-project-input"),o=e=>{const t=document.querySelector(".add-todo"),o=document.querySelector(".add-project");switch(e){case"todo":t.classList.add("current"),o.classList.remove("current");break;case"project":o.classList.add("current"),t.classList.remove("current")}};return{addProject:(e,o)=>{const c=document.createElement("option");c.value=`project-${e}`,c.textContent=o,t.append(c)},removeProject:e=>{document.querySelector(`option[value='project-${e}']`).remove()},show:()=>{o("todo"),e.classList.toggle("form-open")},switchFormsTo:o}})();return{todo:e,updateViewAll:t,project:o,init:()=>{const e=document.querySelector(".add-new-button"),t=document.querySelector("#to-do-tab"),o=document.querySelector("#project-tab"),r=document.querySelector("#close-tab");e.addEventListener("click",c.show),r.addEventListener("click",c.show),t.addEventListener("click",(()=>{c.switchFormsTo("todo")})),o.addEventListener("click",(()=>{c.switchFormsTo("project")}))}}})();e.init(),e.project.add(1,"Jogn1",1e3),e.project.add(2,"Jogn2",1e3),e.project.add(3,"Jogn3",1e3),e.project.add(4,"Jogn4",1e3),e.project.add(5,"Jogn5",1e3),e.project.add(6,"Jogn6",1e3),e.project.add(7,"nonumber"),e.project.add(8,"blablabla"),e.project.remove(5),e.project.remove(1),e.project.update(6,22),e.project.update(3,2e3),e.updateViewAll(22);const t=(e,t,o,c,r)=>({id:e,title:t,dueDate:o,projectName:c,priority:r});let o=[t(1,"hello","0/09/2020","godoe",5),t(2,"hello2","0/09/2020","godoe",5),t(3,"hello3","0/09/2020","godoe",5),t(4,"hello4","0/09/233020","go4doe",2),t(5,"hello5","0/09/2020","godoe",1)];e.todo.refreshAll(o)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVMsS0FDbkNsQyxFQUFXdUMsUUFBUUwsSUFBSSxFQUFHLFFBQVMsS0FFbkNsQyxFQUFXdUMsUUFBUUwsSUFBSSxFQUFHLFlBQzFCbEMsRUFBV3VDLFFBQVFMLElBQUksRUFBRyxhQUUxQmxDLEVBQVd1QyxRQUFRUSxPQUFPLEdBQzFCL0MsRUFBV3VDLFFBQVFRLE9BQU8sR0FFMUIvQyxFQUFXdUMsUUFBUVUsT0FBTyxFQUFHLElBQzdCakQsRUFBV3VDLFFBQVFVLE9BQU8sRUFBRyxLQUU3QmpELEVBQVdxQyxjQUFjLElBRXpCLE1BQU0wQixFQUFZLENBQUVqRCxFQUFJQyxFQUFPQyxFQUFTQyxFQUFhK0MsS0FBcUIsQ0FBQ2xELEtBQUlDLFFBQU9DLFVBQVNDLGNBQWErQyxhQUU1RyxJQUFJQyxFQUFXLENBQ1hGLEVBQVUsRUFBRSxRQUFRLFlBQVksUUFBUyxHQUN6Q0EsRUFBVSxFQUFFLFNBQVMsWUFBWSxRQUFTLEdBQzFDQSxFQUFVLEVBQUUsU0FBUyxZQUFZLFFBQVMsR0FDMUNBLEVBQVUsRUFBRSxTQUFTLGNBQWMsU0FBVSxHQUM3Q0EsRUFBVSxFQUFFLFNBQVMsWUFBWSxRQUFTLElBRzlDL0QsRUFBV0MsS0FBS0ksV0FBVzRELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLW9kaW4vLi9zcmMvbWFuaXBzLmpzIiwid2VicGFjazovL3RvZG8tb2Rpbi8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTVE9SRVMgRE9NIE1BTklQVUxBVElPTlNcbi8vIChET05FKUFkZCBQcm9qZWN0LCBSZW1vdmUgUHJvamVjdFxuLy8gKERPTkUpVXBkYXRlIG51bWJlciBvZiB0YXNrcyBpbiBhIHByb2plY3Rcbi8vIChET05FKVVwZGF0ZSBPcHRpb25zIGluIEZvcm0gd2l0aCBuZXcgcHJvamVjdHNcbi8vIChET05FKVVwZGF0ZSBWaWV3IEFsbCBUYXNrcyBMaXN0IFxuLy8gKERPTkUpQWRkIFRvLWRvLCBSZW1vdmUgVG8tZG9cbi8vIChET05FKWNsZWFyIHRvLWRvcz9cbi8vIChET05FKU1hcmsgVG8tZG8gYXMgY29tcGxldGVkXG5cbi8vIFByb2plY3RzIC0gcmVmcmVzaEFsbCBlcXVpdmFsZW50XG4vLyBTaG93IEFkZCBOZXcgRm9ybVxuLy8gVGFiIGJldHdlZW4gdG8tZG8gYW5kIFByb2plY3QgZm9ybVxuLy8gTGlzdCBUby1kb3MgYW5kIFByb2plY3RzIGluIGxldmVsIG9mIHByaW9yaXR5P1xuXG5cbmNvbnN0IERPTUhhbmRsZXIgPSAoKCkgPT4ge1xuXG4gICAgY29uc3QgaW5pdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkTmV3QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZC1uZXctYnV0dG9uJyk7XG4gICAgICAgIGNvbnN0IHRvZG9CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG8tZG8tdGFiJyk7XG4gICAgICAgIGNvbnN0IHByb2plY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdC10YWInKTtcbiAgICAgICAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2xvc2UtdGFiJyk7XG5cbiAgICAgICAgYWRkTmV3QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZm9ybS5zaG93KTtcbiAgICAgICAgY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmb3JtLnNob3cpO1xuICAgICAgICB0b2RvQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgZm9ybS5zd2l0Y2hGb3Jtc1RvKCd0b2RvJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBwcm9qZWN0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgICAgICBmb3JtLnN3aXRjaEZvcm1zVG8oJ3Byb2plY3QnKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFRPLURPIE1BTklQU1xuXG4gICAgY29uc3QgdG9kbyA9ICgoKSA9PiB7XG4gICAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RhYmxlIHRib2R5Jyk7XG5cbiAgICAgICAgY29uc3QgcmVmcmVzaEFsbCA9IHRvZG9BcnJheSA9PiB7XG4gICAgICAgICAgICBjbGVhckFsbCgpO1xuICAgICAgICAgICAgdG9kb0FycmF5LmZvckVhY2godG9kb09iamVjdCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZGVzdHJ1Y3R1cmUgdGhlIG9iamVjdCBhbmQgSUlGRSBpdCBpbnRvIGFkZFxuICAgICAgICAgICAgICAgICgoe2lkLCB0aXRsZSwgZHVlRGF0ZSwgcHJvamVjdE5hbWV9KSA9PiBcbiAgICAgICAgICAgICAgICBhZGQoaWQsIHRpdGxlLCBkdWVEYXRlLCBwcm9qZWN0TmFtZSkpKHRvZG9PYmplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBtYXJrRG9uZSA9IChpZCkgPT4gXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGB0cltkYXRhLW51bT0nJHtpZH0nXWApXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc0xpc3RcbiAgICAgICAgICAgICAgICAgICAgLnRvZ2dsZSgnZG9uZScpO1xuXG4gICAgICAgIGNvbnN0IGNsZWFyQWxsID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3Qm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Rib2R5Jyk7XG4gICAgICAgICAgICB0YWJsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdCb2R5LCB0YWJsZSk7XG4gICAgICAgICAgICAvLyB0aGUgbm9kZSB0aGF0IHVzZWQgdG8gYmUgdGFibGUgaXMgbm93IGdvbmUuXG4gICAgICAgICAgICAvLyBzbyByZWZyZXNoIGl0XG4gICAgICAgICAgICB0YWJsZSA9IG5ld0JvZHk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZGQgPSAoaWQsIHRpdGxlLCBkdWVEYXRlLCBwcm9qZWN0TmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3Um93ID0gdGFibGUuaW5zZXJ0Um93KCk7XG4gICAgICAgICAgICBuZXdSb3cuZGF0YXNldC5udW0gPSBpZDtcblxuICAgICAgICAgICAgY29uc3QgbmV3Q2hrID0gbmV3Um93Lmluc2VydENlbGwoMCk7XG4gICAgICAgICAgICBjb25zdCBDaGtJbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICBDaGtJbi50eXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgIC8vIENoZWNrYm94IEV2ZW50IExpc3RlbmVyXG4gICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuIGRpcmVjdGx5LFxuICAgICAgICAgICAgLy8gYnV0IG1hcmtEb25lIHNob3VsZCBnZXQgY2FsbGVkIGJ5IGEgZnVuY3Rpb25cbiAgICAgICAgICAgIC8vIGFmdGVyIG9iamVjdCBzdGF0ZSBpcyBjaGFuZ2VkIFxuICAgICAgICAgICAgQ2hrSW4uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIG1hcmtEb25lKGlkKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBuZXdDaGsuYXBwZW5kKENoa0luKTtcblxuICAgICAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBuZXdSb3cuaW5zZXJ0Q2VsbCgxKTtcbiAgICAgICAgICAgIG5ld1RpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0RhdGUgPSBuZXdSb3cuaW5zZXJ0Q2VsbCgyKTtcbiAgICAgICAgICAgIG5ld0RhdGUudGV4dENvbnRlbnQgPSBkdWVEYXRlO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQcm9qZWN0ID0gbmV3Um93Lmluc2VydENlbGwoMyk7XG4gICAgICAgICAgICBuZXdQcm9qZWN0LnRleHRDb250ZW50ID0gcHJvamVjdE5hbWU7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0VkaXQgPSBuZXdSb3cuaW5zZXJ0Q2VsbCg0KTtcbiAgICAgICAgICAgIGNvbnN0IEVkaXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIEVkaXRCdG4uZGF0YXNldC5udW0gPSBpZDsgLy8gbWF5IG5vdCBldmVuIGJlIHJlbGV2YW50XG4gICAgICAgICAgICBFZGl0QnRuLmNsYXNzTGlzdC5hZGQoJ2VkaXQnKTtcbiAgICAgICAgICAgIEVkaXRCdG4udGV4dENvbnRlbnQgPSBcIkVkaXRcIjtcbiAgICAgICAgICAgIC8vIEVkaXQgRXZlbnQgTGlzdGVuZXJcbiAgICAgICAgICAgIG5ld0VkaXQuYXBwZW5kKEVkaXRCdG4pO1xuXG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1JtdiA9IG5ld1Jvdy5pbnNlcnRDZWxsKDUpO1xuICAgICAgICAgICAgY29uc3QgUm12QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBSbXZCdG4uZGF0YXNldC5udW0gPSBpZDsgLy8gbWF5IG5vdCBldmVuIGJlIHJlbGV2YW50XG4gICAgICAgICAgICBSbXZCdG4uY2xhc3NMaXN0LmFkZCgncm12Jyk7XG4gICAgICAgICAgICBSbXZCdG4udGV4dENvbnRlbnQgPSBcIlJlbW92ZVwiO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIEV2ZW50IExpc3RlbmVyXG4gICAgICAgICAgICAvLyBUaGlzIHNob3VsZCBOT1QgZGlyZWN0bHkgY2FsbCB0aGUgRE9NIE1hbmlwLiBPdGhlcndpc2VcbiAgICAgICAgICAgIC8vIHRoZSB1bmRlcmx5aW5nIFRvLWRvIG9iamVjdCB3aWxsIG5vdCBiZSBkZWxldGVkIVxuICAgICAgICAgICAgLy8gUm12QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gcmVtb3ZlKGlkKSk7XG5cbiAgICAgICAgICAgIG5ld1Jtdi5hcHBlbmQoUm12QnRuKTtcblxuICAgICAgICB9O1xuICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LlxuICAgICAgICBjb25zdCBfcmVtb3ZlID0gaWQgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm93VG9SZW1vdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGB0cltkYXRhLW51bT0nJHtpZH0nXWApO1xuICAgICAgICAgICAgcm93VG9SZW1vdmUucmVtb3ZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQWRkaW5nL1JlbW92aW5nIFRvLWRvcyBmcm9tIERPTSBpcyB1bm5lY2Vzc2FyeS5cbiAgICAgICAgLy8gV2UgY2FuIHNpbXBseSByZWZyZXNoQWxsLlxuICAgICAgICByZXR1cm4ge3JlZnJlc2hBbGx9O1xuXG4gICAgfSkoKTtcblxuICAgIC8vIFBST0pFQ1QgTUFOSVBTXG5cbiAgICBjb25zdCB1cGRhdGVWaWV3QWxsID0gdGFza3MgPT4ge1xuICAgICAgICBjb25zdCB2aWV3QWxsTnVtYmVyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3ZpZXctYWxsIC5wcm9qZWN0LW5vJyk7XG4gICAgICAgIHZpZXdBbGxOdW1iZXJEaXYudGV4dENvbnRlbnQgPSB0YXNrcztcbiAgICB9XG5cbiAgICBjb25zdCBwcm9qZWN0ID0gKCgpID0+IHtcbiAgICAgICAgY29uc3QgcHJvamVjdHNMaXN0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0cy1saXN0Jyk7XG4gICAgXG4gICAgICAgIGNvbnN0IGFkZCA9IChpZCwgbmFtZSwgdGFza3MgPSAwKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgY29uc3QgbmV3RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgXG4gICAgICAgICAgICAvLyBJRCBnZW5lcmF0aW9uIHNob3VsZCBiZSBoYW5kbGVkIGluIGxvZ2ljLiBcbiAgICAgICAgICAgIG5ld0l0ZW0uaWQgPSBgcHJvamVjdC0ke2lkfWA7XG4gICAgICAgICAgICBmb3JtLmFkZFByb2plY3QoaWQsIG5hbWUpO1xuICAgIFxuICAgICAgICAgICAgbmV3RGl2LmNsYXNzTGlzdC5hZGQoJ3Byb2plY3Qtbm8nKTtcbiAgICAgICAgICAgIG5ld0J0bi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0Jyk7XG4gICAgICAgICAgICBuZXdJdGVtLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3QnKTtcbiAgICBcbiAgICAgICAgICAgIG5ld0Rpdi50ZXh0Q29udGVudCA9IHRhc2tzO1xuICAgICAgICAgICAgbmV3QnRuLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3QnRuLmFwcGVuZChuZXdEaXYpO1xuICAgICAgICAgICAgbmV3SXRlbS5hcHBlbmQobmV3QnRuKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcHJvamVjdHNMaXN0RWxlbWVudC5hcHBlbmQobmV3SXRlbSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IGlkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwcm9qZWN0LSR7aWR9YCk7XG4gICAgICAgICAgICBpdGVtVG9SZW1vdmUucmVtb3ZlKCk7XG4gICAgICAgICAgICBmb3JtLnJlbW92ZVByb2plY3QoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVwZGF0ZSA9IChpZCwgdGFza3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwcm9qZWN0LSR7aWR9IC5wcm9qZWN0LW5vYCk7XG4gICAgICAgICAgICBudW1iZXJEaXYudGV4dENvbnRlbnQgPSB0YXNrcztcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIEkgYW0gbm90IHN1cmUgaWYgdGhpcyBpcyB1c2VmdWwgb3IgY29ycmVjdC5cbiAgICAgICAgY29uc3QgX3VwZGF0ZU5hbWUgPSAoaWQsIG5hbWUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcHJvamVjdC0ke2lkfSBidXR0b25gKTtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwcm9qZWN0LSR7aWR9IC5wcm9qZWN0LW5vYCk7XG4gICAgICAgICAgICBuYW1lQnRuLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWVCdG4uYXBwZW5kKG51bWJlckRpdik7XG4gICAgICAgICAgICAvLyBmb3JtTWFuaXBzLmFkZFByb2plY3QoaWQsIG5hbWUpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHJldHVybiB7YWRkLCByZW1vdmUsIHVwZGF0ZSwgdXBkYXRlVmlld0FsbH1cbiAgICB9KSgpO1xuICAgIFxuICAgIC8vIEZPUk0gTUFOSVBTXG4gICAgXG4gICAgY29uc3QgZm9ybSA9ICgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvcm1TZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0tc2VjdGlvbicpO1xuICAgICAgICBjb25zdCBwcm9qZWN0T3B0aW9uc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGQtcHJvamVjdC1pbnB1dCcpO1xuXG4gICAgICAgIGNvbnN0IHNob3cgPSAoKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2hGb3Jtc1RvKCd0b2RvJyk7XG4gICAgICAgICAgICBmb3JtU2VjdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdmb3JtLW9wZW4nKTtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzd2l0Y2hGb3Jtc1RvID0gbmFtZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0b2RvRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGQtdG9kbycpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRkLXByb2plY3QnKTtcbiAgICAgICAgICAgIHN3aXRjaChuYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9kbyc6XG4gICAgICAgICAgICAgICAgICAgIHRvZG9Gb3JtLmNsYXNzTGlzdC5hZGQoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LnJlbW92ZSgnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwcm9qZWN0JzpcbiAgICAgICAgICAgICAgICAgICAgcHJvamVjdEZvcm0uY2xhc3NMaXN0LmFkZCgnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICB0b2RvRm9ybS5jbGFzc0xpc3QucmVtb3ZlKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgYWRkUHJvamVjdCA9IChpZCwgbmFtZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBuZXdPcHRpb24udmFsdWUgPSBgcHJvamVjdC0ke2lkfWA7XG4gICAgICAgICAgICBuZXdPcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgICAgICAgICAgcHJvamVjdE9wdGlvbnNMaXN0LmFwcGVuZChuZXdPcHRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbW92ZVByb2plY3QgPSBpZCA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25Ub1JlbW92ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT0ncHJvamVjdC0ke2lkfSddYCk7XG4gICAgICAgICAgICBvcHRpb25Ub1JlbW92ZS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge2FkZFByb2plY3QsIHJlbW92ZVByb2plY3QsIHNob3csIHN3aXRjaEZvcm1zVG99O1xuICAgIH0pKCk7XG5cblxuXG5cbiAgICByZXR1cm4ge3RvZG8sIHVwZGF0ZVZpZXdBbGwsIHByb2plY3QsIGluaXR9O1xuXG59KSgpO1xuXG5cblxuXG5cblxuXG5cblxuXG5leHBvcnQge0RPTUhhbmRsZXJ9OyIsImltcG9ydCAnLi9zdHlsZS5jc3MnO1xuaW1wb3J0IHsgRE9NSGFuZGxlcn0gZnJvbSAnLi9tYW5pcHMnO1xuXG5cbi8vIElNUE9SVFMgVEVTVElOR1xuXG5ET01IYW5kbGVyLmluaXQoKTtcblxuRE9NSGFuZGxlci5wcm9qZWN0LmFkZCgxLCAnSm9nbjEnLCAxMDAwKTtcbkRPTUhhbmRsZXIucHJvamVjdC5hZGQoMiwgJ0pvZ24yJywgMTAwMCk7XG5ET01IYW5kbGVyLnByb2plY3QuYWRkKDMsICdKb2duMycsIDEwMDApO1xuRE9NSGFuZGxlci5wcm9qZWN0LmFkZCg0LCAnSm9nbjQnLCAxMDAwKTtcbkRPTUhhbmRsZXIucHJvamVjdC5hZGQoNSwgJ0pvZ241JywgMTAwMCk7XG5ET01IYW5kbGVyLnByb2plY3QuYWRkKDYsICdKb2duNicsIDEwMDApO1xuXG5ET01IYW5kbGVyLnByb2plY3QuYWRkKDcsICdub251bWJlcicpO1xuRE9NSGFuZGxlci5wcm9qZWN0LmFkZCg4LCAnYmxhYmxhYmxhJyk7XG5cbkRPTUhhbmRsZXIucHJvamVjdC5yZW1vdmUoNSk7XG5ET01IYW5kbGVyLnByb2plY3QucmVtb3ZlKDEpO1xuXG5ET01IYW5kbGVyLnByb2plY3QudXBkYXRlKDYsIDIyKTtcbkRPTUhhbmRsZXIucHJvamVjdC51cGRhdGUoMywgMjAwMCk7XG5cbkRPTUhhbmRsZXIudXBkYXRlVmlld0FsbCgyMik7XG5cbmNvbnN0IHRvZG9NYWtlciA9ICgoaWQsIHRpdGxlLCBkdWVEYXRlLCBwcm9qZWN0TmFtZSwgcHJpb3JpdHkpID0+IHtyZXR1cm4ge2lkLCB0aXRsZSwgZHVlRGF0ZSwgcHJvamVjdE5hbWUsIHByaW9yaXR5fX0pO1xuXG5sZXQgdG9kb0xpc3QgPSBbIFxuICAgIHRvZG9NYWtlcigxLCdoZWxsbycsJzAvMDkvMjAyMCcsJ2dvZG9lJywgNSksXG4gICAgdG9kb01ha2VyKDIsJ2hlbGxvMicsJzAvMDkvMjAyMCcsJ2dvZG9lJywgNSksXG4gICAgdG9kb01ha2VyKDMsJ2hlbGxvMycsJzAvMDkvMjAyMCcsJ2dvZG9lJywgNSksXG4gICAgdG9kb01ha2VyKDQsJ2hlbGxvNCcsJzAvMDkvMjMzMDIwJywnZ280ZG9lJywgMiksXG4gICAgdG9kb01ha2VyKDUsJ2hlbGxvNScsJzAvMDkvMjAyMCcsJ2dvZG9lJywgMSksXG5dO1xuXG5ET01IYW5kbGVyLnRvZG8ucmVmcmVzaEFsbCh0b2RvTGlzdCk7XG4iXSwibmFtZXMiOlsiRE9NSGFuZGxlciIsInRvZG8iLCJ0YWJsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlZnJlc2hBbGwiLCJ0b2RvQXJyYXkiLCJuZXdCb2R5IiwiY3JlYXRlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJjbGVhckFsbCIsImZvckVhY2giLCJ0b2RvT2JqZWN0IiwiaWQiLCJ0aXRsZSIsImR1ZURhdGUiLCJwcm9qZWN0TmFtZSIsIm5ld1JvdyIsImluc2VydFJvdyIsImRhdGFzZXQiLCJudW0iLCJuZXdDaGsiLCJpbnNlcnRDZWxsIiwiQ2hrSW4iLCJ0eXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIm1hcmtEb25lIiwiYXBwZW5kIiwidGV4dENvbnRlbnQiLCJuZXdFZGl0IiwiRWRpdEJ0biIsImFkZCIsIm5ld1JtdiIsIlJtdkJ0biIsInVwZGF0ZVZpZXdBbGwiLCJ0YXNrcyIsInByb2plY3QiLCJwcm9qZWN0c0xpc3RFbGVtZW50IiwibmFtZSIsIm5ld0l0ZW0iLCJuZXdCdG4iLCJuZXdEaXYiLCJmb3JtIiwiYWRkUHJvamVjdCIsInJlbW92ZSIsInJlbW92ZVByb2plY3QiLCJ1cGRhdGUiLCJmb3JtU2VjdGlvbiIsInByb2plY3RPcHRpb25zTGlzdCIsInN3aXRjaEZvcm1zVG8iLCJ0b2RvRm9ybSIsInByb2plY3RGb3JtIiwibmV3T3B0aW9uIiwidmFsdWUiLCJzaG93IiwiaW5pdCIsImFkZE5ld0J0biIsInRvZG9CdG4iLCJwcm9qZWN0QnRuIiwiY2xvc2VCdG4iLCJ0b2RvTWFrZXIiLCJwcmlvcml0eSIsInRvZG9MaXN0Il0sInNvdXJjZVJvb3QiOiIifQ==